<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IEBC System Admin Dashboard - Technical Operations</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.css" rel="stylesheet">
    <style>
        .system-admin-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .system-logo {
            font-size: 3.5rem;
            color: #00FF7F;
            animation: techPulse 2s infinite;
        }
        @keyframes techPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .tech-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 5px solid #00FF7F;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }
        .auth-section {
            min-height: 100vh;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .auth-card {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            max-width: 600px;
            width: 100%;
        }
        .system-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        .metric-card:hover {
            transform: scale(1.05);
        }
        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .metric-label {
            font-size: 1rem;
            opacity: 0.9;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-online { background-color: #00FF7F; }
        .status-warning { background-color: #FFC107; }
        .status-offline { background-color: #DC3545; }
        .status-sync { background-color: #17A2B8; }
        .emergency-section {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .emergency-btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 1rem 2rem;
            border-radius: 10px;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }
        .emergency-btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
            transform: scale(1.05);
        }
        .sidebar {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
            padding: 2rem 0;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }
        .sidebar .nav-link {
            color: #ecf0f1;
            padding: 1.2rem 1.5rem;
            border-radius: 0 25px 25px 0;
            margin: 0.2rem 0;
            transition: all 0.3s ease;
        }
        .sidebar .nav-link:hover,
        .sidebar .nav-link.active {
            background: rgba(0, 255, 127, 0.2);
            color: #00FF7F;
            transform: translateX(10px);
        }
        .health-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .health-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            border-left: 4px solid #00FF7F;
        }
        .progress-bar {
            height: 8px;
            border-radius: 4px;
            background: #e9ecef;
            overflow: hidden;
            margin: 0.5rem 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00FF7F, #28A745);
            transition: width 0.3s ease;
        }
        .ai-insights {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .heatmap {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed #dee2e6;
        }
        .login-tracker {
            max-height: 300px;
            overflow-y: auto;
        }
        .login-entry {
            padding: 0.5rem;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .login-success { border-left: 4px solid #28A745; }
        .login-failed { border-left: 4px solid #DC3545; }
        .biometric-required {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Authentication Section -->
    <div id="authSection" class="auth-section">
        <div class="auth-card">
            <div class="text-center mb-4">
                <i class="fas fa-shield-alt system-logo"></i>
                <h2 class="mt-3">System Admin Access</h2>
                <p class="text-muted">Technical Operations Dashboard</p>
            </div>
            
            <div class="biometric-required">
                <i class="fas fa-fingerprint me-2"></i>
                <strong>Biometric Authentication Required</strong>
                <p class="mb-0 mt-2">Hardware token + biometric scan needed</p>
            </div>

            <form id="systemAuthForm">
                <div class="mb-3">
                    <label for="username" class="form-label">System Username</label>
                    <input type="text" class="form-control" id="username" required>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" required>
                </div>
                <div class="mb-3">
                    <label for="hardwareToken" class="form-label">Hardware Token Code</label>
                    <input type="text" class="form-control" id="hardwareToken" placeholder="6-digit code" maxlength="6" required>
                </div>
                <div class="mb-3">
                    <label for="biometricScan" class="form-label">Biometric Verification</label>
                    <button type="button" class="btn btn-outline-primary w-100" id="biometricBtn">
                        <i class="fas fa-fingerprint me-2"></i>Scan Biometric
                    </button>
                </div>
                <button type="submit" class="btn btn-primary w-100">Access System</button>
            </form>
        </div>
    </div>

    <!-- Main Dashboard (Hidden until authenticated) -->
    <div id="mainDashboard" style="display: none;">
        <!-- Header -->
        <div class="system-admin-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1><i class="fas fa-cogs me-3"></i>System Admin Dashboard</h1>
                        <p class="mb-0">Technical Operations & Infrastructure Management</p>
                    </div>
                    <div class="col-md-4 text-end">
                        <div class="d-flex align-items-center justify-content-end">
                            <span class="me-3">Super Admin: <strong id="currentUser">System Admin</strong></span>
                            <button class="btn btn-outline-light btn-sm" id="logoutBtn">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row">
                <!-- Sidebar Navigation -->
                <div class="col-md-3">
                    <div class="sidebar">
                        <div class="text-center mb-4">
                            <i class="fas fa-shield-alt" style="font-size: 2rem; color: #00FF7F;"></i>
                            <h5 class="text-white mt-2">System Admin</h5>
                        </div>
                        
                        <nav class="nav flex-column">
                            <a class="nav-link active" href="#system-health" data-section="system-health">
                                <i class="fas fa-heartbeat me-2"></i>System Health
                            </a>
                            <a class="nav-link" href="#access-control" data-section="access-control">
                                <i class="fas fa-user-lock me-2"></i>Access Control
                            </a>
                            <a class="nav-link" href="#deployment" data-section="deployment">
                                <i class="fas fa-code-branch me-2"></i>Deployment Logs
                            </a>
                            <a class="nav-link" href="#server-sync" data-section="server-sync">
                                <i class="fas fa-sync-alt me-2"></i>Server Sync
                            </a>
                            <a class="nav-link" href="#emergency" data-section="emergency">
                                <i class="fas fa-exclamation-triangle me-2"></i>Emergency Tools
                            </a>
                            <a class="nav-link" href="#ai-assist" data-section="ai-assist">
                                <i class="fas fa-robot me-2"></i>AI Assistant
                            </a>
                        </nav>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="col-md-9">
                    <!-- System Health Monitor -->
                    <div id="system-health" class="dashboard-section active">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2><i class="fas fa-heartbeat me-2"></i>System Health Monitor</h2>
                            <span class="badge bg-success">Live Updates</span>
                        </div>

                        <!-- System Metrics Overview -->
                        <div class="system-metrics">
                            <div class="metric-card">
                                <div class="metric-value" id="activeSessions">23,450</div>
                                <div class="metric-label">Active Sessions</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="pollingStations">96%</div>
                                <div class="metric-label">Stations Online</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="syncAttempts">345</div>
                                <div class="metric-label">Sync Attempts</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="unusualLogins">5</div>
                                <div class="metric-label">Flagged Logins</div>
                            </div>
                        </div>

                        <!-- Health Grid -->
                        <div class="health-grid">
                            <div class="health-card">
                                <h5><i class="fas fa-server me-2"></i>Server Load</h5>
                                <div class="row">
                                    <div class="col-4">
                                        <div class="text-center">
                                            <div class="metric-value" style="font-size: 1.5rem;" id="cpuUsage">67%</div>
                                            <small>CPU</small>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="text-center">
                                            <div class="metric-value" style="font-size: 1.5rem;" id="ramUsage">78%</div>
                                            <small>RAM</small>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="text-center">
                                            <div class="metric-value" style="font-size: 1.5rem;" id="storageUsage">45%</div>
                                            <small>Storage</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 67%"></div>
                                </div>
                            </div>

                            <div class="health-card">
                                <h5><i class="fas fa-tachometer-alt me-2"></i>API Performance</h5>
                                <div class="mb-2">
                                    <span>Response Time: <strong id="responseTime">45ms</strong></span>
                                </div>
                                <div class="mb-2">
                                    <span>500 Errors: <strong id="errorCount">2</strong></span>
                                </div>
                                <div class="mb-2">
                                    <span>Latency: <strong id="latency">12ms</strong></span>
                                </div>
                            </div>

                            <div class="health-card">
                                <h5><i class="fas fa-database me-2"></i>Database Sync</h5>
                                <div class="mb-2">
                                    <span class="status-indicator status-sync"></span>
                                    <span>Main Cluster: <strong>Online</strong></span>
                                </div>
                                <div class="mb-2">
                                    <span class="status-indicator status-online"></span>
                                    <span>Replica 1: <strong>Synced</strong></span>
                                </div>
                                <div class="mb-2">
                                    <span class="status-indicator status-warning"></span>
                                    <span>Replica 2: <strong>Lag: 2s</strong></span>
                                </div>
                            </div>

                            <div class="health-card">
                                <h5><i class="fas fa-map-marker-alt me-2"></i>Region Status</h5>
                                <div class="mb-2">
                                    <span class="status-indicator status-online"></span>
                                    <span>Nairobi: <strong>100%</strong></span>
                                </div>
                                <div class="mb-2">
                                    <span class="status-indicator status-online"></span>
                                    <span>Mombasa: <strong>98%</strong></span>
                                </div>
                                <div class="mb-2">
                                    <span class="status-indicator status-warning"></span>
                                    <span>Kisumu: <strong>92%</strong></span>
                                </div>
                            </div>
                        </div>

                        <!-- Traffic Monitor -->
                        <div class="tech-card">
                            <h5><i class="fas fa-chart-line me-2"></i>Real-time Traffic</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <canvas id="trafficChart" width="400" height="200"></canvas>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <span>Requests/sec: <strong id="requestsPerSec">1,247</strong></span>
                                    </div>
                                    <div class="mb-3">
                                        <span>DDoS Detection: <span class="badge bg-success">Normal</span></span>
                                    </div>
                                    <div class="mb-3">
                                        <span>Peak Users: <strong id="peakUsers">45,230</strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Regional Heatmap -->
                        <div class="tech-card">
                            <h5><i class="fas fa-map me-2"></i>Regional Health Heatmap</h5>
                            <div class="heatmap">
                                <div class="text-center">
                                    <i class="fas fa-map-marked-alt" style="font-size: 3rem; color: #6c757d;"></i>
                                    <p class="mt-2">Interactive regional health visualization</p>
                                    <p class="text-muted">Green: Optimal | Yellow: Warning | Red: Critical</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Access Control Manager -->
                    <div id="access-control" class="dashboard-section" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2><i class="fas fa-user-lock me-2"></i>Access Control Manager</h2>
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addUserModal">
                                <i class="fas fa-plus me-2"></i>Add User
                            </button>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="tech-card">
                                    <h5><i class="fas fa-users me-2"></i>Role Audit</h5>
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>User</th>
                                                    <th>Role</th>
                                                    <th>Last Login</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="userTableBody">
                                                <!-- Populated by JavaScript -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="tech-card">
                                    <h5><i class="fas fa-sign-in-alt me-2"></i>Login Tracker</h5>
                                    <div class="login-tracker" id="loginTracker">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="tech-card">
                                    <h5><i class="fas fa-shield-alt me-2"></i>IP Whitelist</h5>
                                    <div class="mb-3">
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="newIP" placeholder="Enter IP address">
                                            <button class="btn btn-outline-primary" id="addIPBtn">Add</button>
                                        </div>
                                    </div>
                                    <div id="ipWhitelist">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="tech-card">
                                    <h5><i class="fas fa-lock me-2"></i>Lockdown Tools</h5>
                                    <div class="mb-3">
                                        <button class="btn btn-warning w-100 mb-2" id="freezeMediaBtn">
                                            <i class="fas fa-pause me-2"></i>Freeze Media Dashboard
                                        </button>
                                        <button class="btn btn-danger w-100" id="freezeSystemBtn">
                                            <i class="fas fa-stop-circle me-2"></i>Emergency Freeze
                                        </button>
                                    </div>
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-2"></i>
                                        <strong>Note:</strong> Emergency actions require dual approval
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Version & Deployment Logs -->
                    <div id="deployment" class="dashboard-section" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2><i class="fas fa-code-branch me-2"></i>Version & Deployment Logs</h2>
                            <button class="btn btn-primary" id="deployUpdateBtn">
                                <i class="fas fa-rocket me-2"></i>Deploy Update
                            </button>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="tech-card">
                                    <h5><i class="fas fa-history me-2"></i>Commit History</h5>
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Commit ID</th>
                                                    <th>Developer</th>
                                                    <th>Message</th>
                                                    <th>Timestamp</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody id="commitTableBody">
                                                <!-- Populated by JavaScript -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="tech-card">
                                    <h5><i class="fas fa-tasks me-2"></i>Patch Management</h5>
                                    <div class="mb-3">
                                        <button class="btn btn-success w-100 mb-2" id="schedulePatchBtn">
                                            <i class="fas fa-calendar-plus me-2"></i>Schedule Patch
                                        </button>
                                        <button class="btn btn-warning w-100 mb-2" id="rollbackBtn">
                                            <i class="fas fa-undo me-2"></i>Rollback Version
                                        </button>
                                        <button class="btn btn-info w-100" id="validateUpdateBtn">
                                            <i class="fas fa-check-circle me-2"></i>Validate Update
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tech-card">
                            <h5><i class="fas fa-deploy-alt me-2"></i>Deployment Tracker</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <strong>Current Version:</strong> <span id="currentVersion">v2.1.4</span>
                                    </div>
                                    <div class="mb-3">
                                        <strong>Last Deployment:</strong> <span id="lastDeployment">2024-01-15 14:30</span>
                                    </div>
                                    <div class="mb-3">
                                        <strong>Deployment Status:</strong> <span class="badge bg-success">Successful</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <strong>Test Results:</strong> <span class="badge bg-success">All Passed</span>
                                    </div>
                                    <div class="mb-3">
                                        <strong>Rollback Available:</strong> <span class="badge bg-info">v2.1.3</span>
                                    </div>
                                    <div class="mb-3">
                                        <strong>Next Scheduled:</strong> <span id="nextScheduled">2024-01-20 02:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Server & Node Sync Status -->
                    <div id="server-sync" class="dashboard-section" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2><i class="fas fa-sync-alt me-2"></i>Server & Node Sync Status</h2>
                            <button class="btn btn-primary" id="forceSyncBtn">
                                <i class="fas fa-sync me-2"></i>Force Sync
                            </button>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="tech-card">
                                    <h5><i class="fas fa-database me-2"></i>Sync Tracker</h5>
                                    <div id="syncTracker">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="tech-card">
                                    <h5><i class="fas fa-exclamation-triangle me-2"></i>Conflict Resolver</h5>
                                    <div id="conflictResolver">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tech-card">
                            <h5><i class="fas fa-network-wired me-2"></i>Node Recovery Status</h5>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="text-center p-3">
                                        <i class="fas fa-server" style="font-size: 2rem; color: #00FF7F;"></i>
                                        <h6 class="mt-2">Online Nodes</h6>
                                        <div class="metric-value" style="font-size: 1.5rem;" id="onlineNodes">47</div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="text-center p-3">
                                        <i class="fas fa-exclamation-triangle" style="font-size: 2rem; color: #FFC107;"></i>
                                        <h6 class="mt-2">Warning Nodes</h6>
                                        <div class="metric-value" style="font-size: 1.5rem;" id="warningNodes">3</div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="text-center p-3">
                                        <i class="fas fa-times-circle" style="font-size: 2rem; color: #DC3545;"></i>
                                        <h6 class="mt-2">Offline Nodes</h6>
                                        <div class="metric-value" style="font-size: 1.5rem;" id="offlineNodes">1</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tech-card">
                            <h5><i class="fas fa-shield-alt me-2"></i>Redundancy Checker</h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Zone</th>
                                            <th>Primary Server</th>
                                            <th>Fallback Server</th>
                                            <th>Mirror Status</th>
                                            <th>Risk Level</th>
                                        </tr>
                                    </thead>
                                    <tbody id="redundancyTableBody">
                                        <!-- Populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Emergency Tools -->
                    <div id="emergency" class="dashboard-section" style="display: none;">
                        <div class="emergency-section">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h2><i class="fas fa-exclamation-triangle me-2"></i>Emergency Tools</h2>
                                <span class="badge bg-danger" style="font-size: 1rem;">RESTRICTED ACCESS</span>
                            </div>
                            <p class="mb-4">Critical system control tools - Use with extreme caution. All actions are logged and require approval.</p>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <button class="btn emergency-btn w-100 mb-3" id="emergencyFreezeBtn">
                                        <i class="fas fa-snowflake me-2"></i>Emergency System Freeze
                                        <br><small>Freezes entire system - HQ approval required</small>
                                    </button>
                                    <button class="btn emergency-btn w-100 mb-3" id="pollingShutdownBtn">
                                        <i class="fas fa-power-off me-2"></i>Polling Center Shutdown
                                        <br><small>Disable compromised stations</small>
                                    </button>
                                </div>
                                <div class="col-md-6">
                                    <button class="btn emergency-btn w-100 mb-3" id="defenseModeBtn">
                                        <i class="fas fa-shield-alt me-2"></i>Activate Defense Mode
                                        <br><small>Extra firewalls & DDoS protection</small>
                                    </button>
                                    <button class="btn emergency-btn w-100 mb-3" id="broadcastAlertBtn">
                                        <i class="fas fa-bullhorn me-2"></i>Broadcast Alert
                                        <br><small>Send system-wide notifications</small>
                                    </button>
                                </div>
                            </div>

                            <div class="alert alert-warning mt-4">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <strong>Warning:</strong> All emergency actions require dual-key authentication and are immediately logged to HQ.
                            </div>
                        </div>

                        <div class="tech-card">
                            <h5><i class="fas fa-clipboard-list me-2"></i>Emergency Action Log</h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Timestamp</th>
                                            <th>Action</th>
                                            <th>Initiator</th>
                                            <th>Approval Status</th>
                                            <th>Details</th>
                                        </tr>
                                    </thead>
                                    <tbody id="emergencyLogTableBody">
                                        <!-- Populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- AI Assistant Layer -->
                    <div id="ai-assist" class="dashboard-section" style="display: none;">
                        <div class="ai-insights">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h2><i class="fas fa-robot me-2"></i>AI Assistant Layer</h2>
                                <span class="badge bg-info">Machine Learning Active</span>
                            </div>
                            <p class="mb-4">AI-powered insights and predictive analytics for system optimization</p>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="tech-card">
                                    <h5><i class="fas fa-search me-2"></i>Auto-Anomaly Scanner</h5>
                                    <div class="mb-3">
                                        <div class="alert alert-success">
                                            <i class="fas fa-check-circle me-2"></i>
                                            <strong>Status:</strong> Active monitoring
                                        </div>
                                    </div>
                                    <div id="anomalyScanner">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="tech-card">
                                    <h5><i class="fas fa-crystal-ball me-2"></i>Predictive Failure Engine</h5>
                                    <div class="mb-3">
                                        <div class="alert alert-warning">
                                            <i class="fas fa-exclamation-triangle me-2"></i>
                                            <strong>Warning:</strong> 2 servers at risk
                                        </div>
                                    </div>
                                    <div id="predictiveEngine">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tech-card">
                            <h5><i class="fas fa-lightbulb me-2"></i>Update Recommendations</h5>
                            <div id="aiRecommendations">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add System User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addUserForm">
                        <div class="mb-3">
                            <label for="newUsername" class="form-label">Username</label>
                            <input type="text" class="form-control" id="newUsername" required>
                        </div>
                        <div class="mb-3">
                            <label for="newUserRole" class="form-label">Role</label>
                            <select class="form-select" id="newUserRole" required>
                                <option value="">Select Role</option>
                                <option value="system-admin">System Admin</option>
                                <option value="devops">DevOps Engineer</option>
                                <option value="security">Security Expert</option>
                                <option value="network">Network Manager</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="newUserAccess" class="form-label">Access Level</label>
                            <select class="form-select" id="newUserAccess" required>
                                <option value="">Select Access Level</option>
                                <option value="read-only">Read Only</option>
                                <option value="limited">Limited</option>
                                <option value="full">Full Access</option>
                                <option value="super">Super Admin</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveUserBtn">Add User</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    <script src="system-admin-dashboard.js"></script>
</body>
</html>